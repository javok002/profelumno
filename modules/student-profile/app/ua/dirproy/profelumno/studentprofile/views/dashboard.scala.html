@()
@ua.dirproy.profelumno.common.views.html.tidyMain("Student dashboard"){
    @ua.dirproy.profelumno.common.views.html.topbar()
    @ua.dirproy.profelumno.common.views.html.sidebar()
    @ua.dirproy.profelumno.common.views.html.chat()

    <div class="content-wrapper" ng-app="studentProfile" >
            <!-- Content Header (Page header) -->
        <section class="content-header" ng-controller="StudentCtrl" ng-cloak>
            <h1>
                Dashboard
                <small> {{ user.name }} {{ user.surname }} </small>
            </h1>
            <section class="content">
                <div class="row">
                    <div class="col-md-4">
                        <div class="info-box bg-yellow">
                            <span class="info-box-icon"><i class="fa fa-star-o"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Rating</span>
                                <span class="info-box-number">{{ data.rating[0] }} {{data.rating[0] == 1 ? 'ESTRELLA' : 'ESTRELLAS'}}</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: {{ data.rating[0] * 20 }}%"></div>
                                </div>
                            </div><!-- /.info-box-content -->
                        </div><!-- /.info-box -->
                    </div>
                </div>
                <teachers></teachers>
                <lessons></lessons>
                <lessons-to-rate></lessons-to-rate>
                <subjects></subjects>
            </section> <!-- /.content -->

            <!-- Make Review Modal -->
            <div class="modal fade" id="makeReviewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-body">
                        <!-- <form name="reviewForm" ng-controller="MakeReviewController as makeRevCtrl" novalidate> -->
                    <div class="col-md-6 col-md-offset-3">
                        <div class="box box-info">
                            <div class="box-header with-border">
                                <h3 class="box-title">Critica</h3>
                            </div>
                            <form name="reviewForm">
                                <div class="box-body">
                                    <div class="input-group">
                                        <span class="input-group-addon">Email</span>
                                        <input type="email" class="form-control" id="emailModal" readonly>
                                    </div>
                                    <br>
                                    <div>
                                        <label>Estrellas (obligatorio)</label>
                                        <input type="number" id="starsModal" class="rating" data-stars="5" step=1 data-size="sm" data-rtl="false" data-show-clear="false">
                                    </div>
                                    <br>
                                    <div class="form-group">
                                        <label>Comentario (obligatorio)</label>
                                        <textarea class="form-control" rows="3" id="commentModal" required></textarea>
                                    </div>
                                    <br>
                                    <div>
                                        <button type="button" ng-click="review()" class="btn btn-primary">Calificar</button>
                                        <button type="button" class="btn btn-primary pull-right" data-dismiss="modal" aria-hidden="true">
                                            Cancelar</button>
                                    </div>
                                </div><!-- /.box-body -->
                            </form> <!-- /.form -->
                        </div><!-- /.box box-info -->
                    </div> <!-- /.col-md-6 col-md-offset-3 -->
                    <!--</form>-->
                </div> <!-- /.modal-body -->
            </div> <!-- /.modal fade -->
        </section>
    </div><!-- /.content-wrapper -->

} {
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/lessonReview/star-rating.min.css")" media="all" type="text/css" />

} {  <script src="@routes.Assets.versioned("javascripts/studentProfile/studentProfile.js")"></script>
    <script>
        //Used when a the modal is hide
        $('#makeReviewModal').on('hide.bs.modal', function () {
            $(this).removeData('bs.modal');
        });
    </script>
    <script src="@routes.Assets.versioned("javascripts/reviewLesson/star-rating.min.js")" type="text/javascript"></script>
}